<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ASG Platform - 2-Year Residency Program</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
      line-height: 1.6;
    }
    
    header {
      background: linear-gradient(135deg, #004080 0%, #0066cc 100%);
      color: white;
      padding: 40px 20px;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    header h1 {
      font-size: 2rem;
      margin-bottom: 5px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    
    header p {
      font-size: 1rem;
      opacity: 0.9;
    }
    
    main {
      background: white;
      padding: 30px 20px;
      max-width: 900px;
      margin: -15px auto 20px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    
    h2 {
      color: #004080;
      font-size: 1.5rem;
      margin: 20px 0 15px;
      border-left: 4px solid #004080;
      padding-left: 15px;
    }
    
    .program-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      margin: 20px 0;
    }
    
    .program-card {
      background: linear-gradient(135deg, #f8f9ff 0%, #e8f2ff 100%);
      padding: 20px;
      border-radius: 12px;
      border: 2px solid #e1ecff;
      transition: transform 0.3s ease;
    }
    
    .program-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,64,128,0.1);
    }
    
    .benefits-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 15px;
      margin: 15px 0;
    }
    
    .benefit-item {
      background: white;
      padding: 15px;
      border-radius: 8px;
      border-left: 4px solid #004080;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }
    
    .benefit-item strong {
      color: #004080;
      font-size: 1rem;
    }
    
    .requirements-list {
      background: #fff8e1;
      padding: 15px;
      border-radius: 8px;
      border: 2px solid #ffd54f;
      margin: 15px 0;
    }
    
    .requirements-list ul {
      list-style: none;
      padding-left: 0;
    }
    
    .requirements-list li {
      padding: 6px 0;
      border-bottom: 1px solid #ffecb3;
      font-size: 0.95rem;
    }
    
    .requirements-list li:last-child {
      border-bottom: none;
    }
    
    .apply-btn {
      display: inline-block;
      background: linear-gradient(135deg, #004080 0%, #0066cc 100%);
      color: white;
      padding: 12px 25px;
      text-decoration: none;
      border-radius: 25px;
      font-weight: bold;
      font-size: 1rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,64,128,0.3);
      margin-top: 20px;
    }
    
    .apply-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 18px rgba(0,64,128,0.4);
    }
    
    .chat-indicator {
      position: fixed;
      bottom: 120px;
      right: 30px;
      background: #004080;
      color: white;
      padding: 10px 15px;
      border-radius: 20px;
      font-size: 0.9rem;
      animation: pulse 2s infinite;
      z-index: 999;
    }
    
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.7; }
      100% { opacity: 1; }
    }
    
    #chat-icon {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(135deg, #004080 0%, #0066cc 100%);
      color: white;
      padding: 15px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 24px;
      z-index: 1000;
      box-shadow: 0 5px 15px rgba(0,64,128,0.3);
      transition: all 0.3s ease;
      animation: wave 2s ease-in-out infinite;
    }
    
    @keyframes wave {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(15deg); }
      75% { transform: rotate(-15deg); }
    }
    
    #chat-icon:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 25px rgba(0,64,128,0.4);
      animation: none;
    }
    
    #chat-box {
      display: none;
      position: fixed;
      bottom: 90px;
      right: 30px;
      width: 350px;
      max-height: 500px;
      background: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      z-index: 1000;
      flex-direction: column;
    }
    
    #chat-header {
      background: linear-gradient(135deg, #004080 0%, #0066cc 100%);
      color: white;
      padding: 15px;
      text-align: center;
      font-weight: bold;
    }
    
    #chat-messages {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
      max-height: 300px;
      background: #f8f9fa;
    }
    
    .message {
      margin-bottom: 15px;
      padding: 10px;
      border-radius: 10px;
      max-width: 80%;
    }
    
    .user-message {
      background: #004080;
      color: white;
      margin-left: auto;
      text-align: right;
    }
    
    .bot-message {
      background: white;
      border: 2px solid #e1ecff;
      margin-right: auto;
    }
    
    .bot-avatar {
      display: inline-block;
      margin-right: 8px;
      font-size: 1.2rem;
    }
    
    #chat-input {
      display: flex;
      border-top: 1px solid #ddd;
    }
    
    #chat-input input {
      flex: 1;
      padding: 15px;
      border: none;
      outline: none;
      font-size: 0.9rem;
    }
    
    #chat-input button {
      padding: 15px 20px;
      border: none;
      background: #004080;
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.3s ease;
    }
    
    #chat-input button:hover {
      background: #0066cc;
    }
    
    #question-form {
      display: none;
      background: white;
      padding: 20px;
      border-radius: 10px;
      margin-top: 15px;
    }
    
    #question-form input, #question-form textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border: 2px solid #e1ecff;
      border-radius: 5px;
      font-family: inherit;
    }
    
    #question-form button {
      background: #004080;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }
    
    .typing-indicator {
      display: none;
      padding: 10px;
      font-style: italic;
      color: #666;
    }
    
    .typing-dots {
      display: inline-block;
      animation: typing 1.5s infinite;
    }
    
    @keyframes typing {
      0%, 20% { opacity: 0; }
      50% { opacity: 1; }
      80%, 100% { opacity: 0; }
    }
    
    .error-message {
      background: #ffebee;
      color: #c62828;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
      border: 1px solid #ef5350;
      font-size: 0.9rem;
    }
    
    @media (max-width: 768px) {
      header {
        padding: 30px 15px;
      }
      
      header h1 {
        font-size: 1.6rem;
      }
      
      header p {
        font-size: 0.9rem;
      }
      
      main {
        margin: -10px 15px 15px;
        padding: 20px 15px;
      }
      
      .program-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .program-card {
        padding: 15px;
      }
      
      .benefits-grid {
        grid-template-columns: 1fr;
        gap: 10px;
      }
      
      .benefit-item {
        padding: 12px;
      }
      
      h2 {
        font-size: 1.3rem;
        margin: 15px 0 10px;
      }
      
      #chat-box {
        width: 280px;
        right: 15px;
        bottom: 80px;
      }
      
      #chat-icon {
        right: 20px;
        bottom: 20px;
      }
      
      .chat-indicator {
        right: 20px;
        bottom: 90px;
        font-size: 0.8rem;
        padding: 8px 12px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>2-Year Residency Program for Software Developer</h1>
    <p>By ASG Platform ‚Äî Fully Remote, Scholarship-based Intensive Bootcamp with Monthly Allowance</p>
  </header>

  <main>
    <div class="program-grid">
      <div class="program-card">
        <h2>üåü About ASG Platform</h2>
        <p>ASG Platform is a pioneering tech company with strong roots in the United States and an expanding presence in the Philippines. We specialize in developing cutting-edge software solutions that drive innovation and efficiency across industries. Our mission is to empower the next generation of tech talent through real-world learning opportunities, personalized mentorship, and an unwavering commitment to integrity and excellence. When you join ASG, you become part of a fast-paced, forward-thinking team making a positive impact on the global tech community.</p>
      </div>
      
      <div class="program-card">
        <h2>üéØ About the Program</h2>
        <p>The <strong>ASG Platform 2-Year Residency Program for Software Developers</strong> is a prestigious, scholarship-based coding bootcamp designed to transform individuals with solid programming foundations into world-class developers.</p>
        <p><strong>‚ö†Ô∏è This is not a beginner program</strong> ‚Äî it's for those who already have hands-on coding background, whether self-taught or from non-traditional paths, and are ready to tackle a rigorous, fast-tracked journey toward elite developer status.</p>
      </div>
    </div>

    <h2>üöÄ Path to Career Success</h2>
    <p>This program is more than just an educational experience ‚Äî it's a stepping stone to potentially joining the <strong>ASG Platform's Developer Team</strong>.</p>
    <div class="benefits-grid">
      <div class="benefit-item">
        <strong>üèÜ Top performers</strong> who demonstrate exceptional skill, dedication, and alignment with our values may be invited to join the team, earning <strong>‚Ç±100,000+ per month</strong>.
      </div>
      <div class="benefit-item">
        <strong>üéÅ After the first year</strong>, participants gain access to company benefits such as <strong>HMO coverage, stock options, paid time off, and entertainment and meal vouchers</strong>.
      </div>
      <div class="benefit-item">
        <strong>üéØ Joining full-time</strong> also brings even more enhanced versions of these perks.
      </div>
    </div>

    <h2>üìú Key Details</h2>
    <div class="benefits-grid">
      <div class="benefit-item">
        <strong>üí∏ Monthly Allowance:</strong> ‚Ç±32,000‚Äì‚Ç±35,000 to start, with increases as you progress.
      </div>
      <div class="benefit-item">
        <strong>üìà Accelerated Learning:</strong> Condenses 5 years of experience into 2 years, with personalized guidance by senior developers.
      </div>
      <div class="benefit-item">
        <strong>üåç Fully Remote:</strong> Open to Filipino citizens residing in the Philippines.
      </div>
      <div class="benefit-item">
        <strong>‚è∞ Program Schedule:</strong> 8 PM - 6:00 AM PhTime, Monday - Friday
      </div>
    </div>

    <h2>üß≠ Training Structure & Non-Negotiable Requirements</h2>
    <div class="requirements-list">
      <ul>
        <li>‚úÖ <strong>Full-Time Commitment:</strong> No other jobs, gigs, or major obligations allowed during the program.</li>
        <li>‚úÖ <strong>Own Equipment:</strong> Personal computer and stable internet connection required.</li>
        <li>‚úÖ <strong>Solid Programming Background:</strong> Applicants must demonstrate real coding experience ‚Äî this is not for beginners.</li>
        <li>‚úÖ <strong>Learn-It-All Mindset:</strong> Participants must embrace continuous learning and thrive on challenges.</li>
      </ul>
    </div>

    <a class="apply-btn" href="#" id="apply-link" target="_blank">
      Apply Now
    </a>
  </main>

  <div class="chat-indicator">üí¨ Ask me about the program!</div>

  <div id="chat-icon">ü§ñ</div>

  <div id="chat-box">
    <div id="chat-header">
      <div>ü§ñ ASG Program Assistant</div>
    </div>
    <div id="chat-messages">
      <div class="message bot-message">
        <span class="bot-avatar">ü§ñ</span>
        <strong>Hi! You can ask me questions about the program!</strong> I'm here to help you learn more about the ASG Platform 2-Year Residency Program.
      </div>
    </div>
    <div class="typing-indicator">
      <span class="bot-avatar">ü§ñ</span>
      <span class="typing-dots">Typing...</span>
    </div>
    <div id="chat-input">
      <input type="text" id="user-input" placeholder="Type your question here..." maxlength="500">
      <button onclick="sendChat()">Send</button>
    </div>
    
    <div id="question-form">
      <h3>ü§î Can't find the answer? Let us help!</h3>
      <p>Fill out this form and we'll get back to you within 2 business days.</p>
      <label>
        <input type="checkbox" id="programming-background"> I have programming background
      </label>
      <div id="error-container"></div>
      <textarea id="candidate-question" placeholder="What's your question?" rows="3" required></textarea>
      <button onclick="submitQuestion()">Submit Question</button>
      <button onclick="hideQuestionForm()" style="background: #666; margin-left: 10px;">Cancel</button>
    </div>
  </div>

  <script>
    // Mock knowledge base - replace with actual Google Apps Script integration
    const knowledgeBase = {
      faq: [
        {
          question: "What is the monthly allowance?",
          answer: "The monthly allowance is ‚Ç±32,000‚Äì‚Ç±35,000 to start, with increases as you progress through the program.",
          category: "compensation"
        },
        {
          question: "What are the benefits?",
          answer: "After the first year, you get HMO coverage, stock options, paid time off, and entertainment and meal vouchers. Top performers may join the team earning ‚Ç±100,000+ per month.",
          category: "benefits"
        },
        {
          question: "HMO coverage",
          answer: "HMO coverage is provided after the first year of the program.",
          category: "benefits"
        },
        {
          question: "Stock options",
          answer: "Stock options are available after the first year as part of company benefits.",
          category: "benefits"
        },
        {
          question: "Is this program for beginners?",
          answer: "No, this is not a beginner program. It's designed for those who already have hands-on coding background, whether self-taught or from non-traditional paths.",
          category: "requirements"
        },
        {
          question: "What are the working hours?",
          answer: "The program schedule is 8 PM - 6:00 AM Philippine Time, Monday - Friday.",
          category: "schedule"
        },
        {
          question: "Can I work other jobs during the program?",
          answer: "No, this requires full-time commitment. No other jobs, gigs, or major obligations are allowed during the program.",
          category: "requirements"
        },
        {
          question: "What equipment do I need?",
          answer: "You need your own personal computer and stable internet connection.",
          category: "requirements"
        },
        {
          question: "Is this program remote?",
          answer: "Yes, this is fully remote and open to Filipino citizens residing in the Philippines.",
          category: "general"
        }
      ],
      additional: [
        {
          question: "What programming languages will be taught?",
          answer: "The program covers multiple technologies based on industry demand and your learning path."
        }
      ]
    };

    const chatMessages = document.getElementById('chat-messages');
    const userInput = document.getElementById('user-input');
    const typingIndicator = document.querySelector('.typing-indicator');
    const questionForm = document.getElementById('question-form');
    const errorContainer = document.getElementById('error-container');
    let conversationEnded = false;

    // Toggle chat box
    document.getElementById("chat-icon").onclick = () => {
      const box = document.getElementById("chat-box");
      box.style.display = box.style.display === "none" || !box.style.display ? "flex" : "none";
      if (box.style.display === "flex") {
        userInput.focus();
      }
    };

    // Send message on Enter key
    userInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        sendChat();
      }
    });

    function sendChat() {
      const msg = userInput.value.trim();
      if (!msg) return;

      // Check for inappropriate content
      if (containsInappropriateContent(msg)) {
        addMessage('user', msg);
        setTimeout(() => {
          addMessage('bot', "I understand you might be frustrated, but let's keep our conversation professional. How can I help you with questions about the ASG Platform 2-Year Residency Program?");
        }, 500);
        userInput.value = "";
        return;
      }

      addMessage('user', msg);
      userInput.value = "";
      
      // Show typing indicator
      showTyping();
      
      // Search for answer
      setTimeout(() => {
        hideTyping();
        searchForAnswer(msg);
      }, 1000);
    }

    function containsInappropriateContent(message) {
      const inappropriateWords = ['stupid', 'dumb', 'idiot', 'hate', 'suck', 'worst', 'terrible', 'awful'];
      return inappropriateWords.some(word => message.toLowerCase().includes(word));
    }

    function addMessage(sender, message) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${sender}-message`;
      
      if (sender === 'bot') {
        messageDiv.innerHTML = `<span class="bot-avatar">ü§ñ</span>${message}`;
      } else {
        messageDiv.textContent = message;
      }
      
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function showTyping() {
      typingIndicator.style.display = 'block';
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function hideTyping() {
      typingIndicator.style.display = 'none';
    }

    function searchForAnswer(question) {
      const answer = findAnswer(question);
      
      if (answer) {
        if (Array.isArray(answer)) {
          // Multiple answers from same category
          addMessage('bot', `Here are the details about that: ${answer.join(' ')}`);
        } else {
          addMessage('bot', answer);
        }
        // After answering, provide application link
        setTimeout(() => {
          addMessage('bot', "I hope that helps! If you're ready to apply, you can use the application button on the page or <a href='#' style='color: #004080; text-decoration: underline;'>click here to apply now</a>.");
        }, 1500);
      } else {
        // Check additional questions sheet
        addMessage('bot', "Let me check our additional resources for you...");
        setTimeout(() => {
          const additionalAnswer = findAnswerInAdditional(question);
          if (additionalAnswer) {
            addMessage('bot', additionalAnswer);
            setTimeout(() => {
              addMessage('bot', "I hope that helps! If you're ready to apply, you can use the application button on the page or <a href='#' style='color: #004080; text-decoration: underline;'>click here to apply now</a>.");
            }, 1500);
          } else {
            // Check for similar questions
            const similarQuestion = findSimilarQuestion(question);
            if (similarQuestion) {
              addMessage('bot', `I found a similar question that might help: "${similarQuestion.question}" - ${similarQuestion.answer}`);
              setTimeout(() => {
                addMessage('bot', "If this doesn't fully answer your question, I'll inform our recruitment specialist to provide a more detailed response within 2 business days.");
              }, 1500);
            } else {
              addMessage('bot', "I don't have an answer to that specific question right now. Would you like to submit it so our recruitment team can get back to you within 2 business days?");
              setTimeout(() => {
                showQuestionForm();
              }, 1000);
            }
          }
        }, 1500);
      }
    }

    function findAnswer(question) {
      const keywords = extractKeywords(question);
      
      // First, check for exact matches
      for (const item of knowledgeBase.faq) {
        const itemKeywords = extractKeywords(item.question);
        if (hasMatchingKeywords(keywords, itemKeywords) || 
            question.toLowerCase().includes(item.question.toLowerCase().substring(0, 10))) {
          return item.answer;
        }
      }
      
      // Then check for category matches (like "benefits", "requirements")
      const categoryAnswers = findCategoryAnswers(question);
      if (categoryAnswers.length > 0) {
        return categoryAnswers;
      }
      
      return null;
    }

    function findCategoryAnswers(question) {
      const questionLower = question.toLowerCase();
      const categoryKeywords = {
        'benefits': ['benefit', 'benefits', 'perks', 'hmo', 'stock', 'paid time off', 'voucher'],
        'requirements': ['requirements', 'requirement', 'needed', 'need', 'qualify', 'eligible'],
        'compensation': ['salary', 'pay', 'allowance', 'money', 'compensation', 'earn'],
        'schedule': ['schedule', 'time', 'hours', 'when', 'working hours'],
        'general': ['remote', 'location', 'where', 'filipino']
      };
      
      for (const [category, keywords] of Object.entries(categoryKeywords)) {
        if (keywords.some(keyword => questionLower.includes(keyword))) {
          const categoryAnswers = knowledgeBase.faq
            .filter(item => item.category === category)
            .map(item => item.answer);
          
          if (categoryAnswers.length > 0) {
            return categoryAnswers;
          }
        }
      }
      
      return [];
    }

    function findAnswerInAdditional(question) {
      const keywords = extractKeywords(question);
      
      for (const item of knowledgeBase.additional) {
        const itemKeywords = extractKeywords(item.question);
        if (hasMatchingKeywords(keywords, itemKeywords)) {
          return item.answer;
        }
      }
      return null;
    }

    function findSimilarQuestion(question) {
      const allQuestions = [...knowledgeBase.faq, ...knowledgeBase.additional];
      const keywords = extractKeywords(question);
      
      for (const item of allQuestions) {
        const itemKeywords = extractKeywords(item.question);
        if (hasPartialMatch(keywords, itemKeywords)) {
          return item;
        }
      }
      return null;
    }

    function extractKeywords(text) {
      const stopWords = ['what', 'is', 'the', 'can', 'i', 'do', 'how', 'when', 'where', 'why', 'are', 'am', 'will', 'would', 'should', 'could'];
      return text.toLowerCase()
        .replace(/[^\w\s]/g, '')
        .split(/\s+/)
        .filter(word => word.length > 2 && !stopWords.includes(word));
    }

    function hasMatchingKeywords(keywords1, keywords2) {
      return keywords1.some(keyword => keywords2.includes(keyword));
    }

    function hasPartialMatch(keywords1, keywords2) {
      let matches = 0;
      keywords1.forEach(keyword => {
        if (keywords2.includes(keyword)) matches++;
      });
      return matches >= Math.min(2, keywords1.length);
    }

    function showQuestionForm() {
      questionForm.style.display = 'block';
      clearError();
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function hideQuestionForm() {
      questionForm.style.display = 'none';
      clearError();
    }

    function showError(message) {
      clearError();
      const errorDiv = document.createElement('div');
      errorDiv.className = 'error-message';
      errorDiv.textContent = message;
      errorContainer.appendChild(errorDiv);
    }

    function clearError() {
      errorContainer.innerHTML = '';
    }

    function submitQuestion() {
      const question = document.getElementById('candidate-question').value.trim();
      const hasProgramming = document.getElementById('programming-background').checked;
      
      // Clear any existing errors
      clearError();
      
      if (!question) {
        showError('Please enter your question.');
        return;
      }
      
      if (!hasProgramming) {
        showError('This program requires candidates to have a solid programming background. Please check the box if you have programming experience.');
        return;
      }
      
      // Here you would integrate with Google Apps Script to save to spreadsheet
      // The question will be added to Column A of the "Addt'l Questions" sheet
      
      addMessage('bot', `Thank you! I've recorded your question and our recruitment team will get back to you within 2 business days. We'll contact you with a detailed answer soon.`);
      
      hideQuestionForm();
      
      // Clear form
      document.getElementById('candidate-question').value = '';
      document.getElementById('programming-background').checked = false;
      
      setTimeout(() => {
        addMessage('bot', "Is there anything else about the program I can help you with in the meantime?");
      }, 2000);
    }

    // Initialize application link (replace with actual link)
    document.getElementById('apply-link').href = '#'; // Replace with actual application form link
  </script>
</body>
</html>
